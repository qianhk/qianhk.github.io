<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>钱凯凯</title>
  
  
  <!--link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css"-->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css">
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
<div class="Shell">
    <aside class='SideBar'>
    <section class='avatar' style="background-image: url()">
        <div class='av-pic' style="background-image: url(/assets/avatar.jpg)">
        </div>
    </section>
    <section class='menu'>
        <div>钱凯凯</div>
        
            <div>钱凯凯的博客</div>
        
        <ul>
          
            <a href="/" class="Btn">
              <li>Home</li>
            </a>  
          
            <a href="/archives/" class="Btn">
              <li>Archive</li>
            </a>  
          
        </ul>
    </section>
    <section class="media">
        
            
                <a href="https://github.com/qianhk">
                    <img src="/assets/github.svg" />
                </a>
            
        
    </section>
</aside>

    <div class="container">
        <div data-pager-shell>
            <div>
  <article class='ContentView'>
    <header class='PageTitle'>
        <h1></h1>
    </header>

    <section>
      <h2 id="客户端码农学习ML-——-Matplotlib基本用法"><a href="#客户端码农学习ML-——-Matplotlib基本用法" class="headerlink" title="客户端码农学习ML —— Matplotlib基本用法"></a>客户端码农学习ML —— Matplotlib基本用法</h2><p>在进行AI学习、统计的时候，通常用Matplotlib进行数据的可视化，本文总结下Matplotlib中基本用法，首先import matplotlib.pyplot as plt。</p>
<h2 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h2><p>Matplotlib可以绘制很多种类型的图，见底部参考，常见的是折线图，其次还有散点图、柱状图、条状图、饼图、动态图、3D图等。</p>
<h3 id="折线图"><a href="#折线图" class="headerlink" title="折线图"></a>折线图</h3><p>先备注下常用api</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure() #开始画图</span><br><span class="line">plt.plot(X, Y, &apos;b-&apos;, lw=2.5, label=&apos;label&apos;) #指定x、y轴坐标值，线宽、此条线名称</span><br><span class="line">plt.legend(loc=&apos;upper left&apos;) # 注解位置</span><br><span class="line">plt.xlim(x_min, x_max) # 设置x轴坐标轴范围，也可以通过ylim设置y轴范围</span><br><span class="line">plt.xticks([x1, x2, x3, x4]) #设置x轴坐标轴刻度</span><br><span class="line">plt.show() 显示图</span><br></pre></td></tr></table></figure>
<p>下表包含了plot可以使用的风格:</p>
<table>
<thead>
<tr>
<th>标记</th>
<th>连接线型</th>
<th>&nbsp;　　　　　</th>
<th>标记</th>
<th>数据点型</th>
</tr>
</thead>
<tbody>
<tr>
<td>-</td>
<td>实线（默认）</td>
<td></td>
<td>+</td>
<td>加号</td>
</tr>
<tr>
<td>–</td>
<td>虚线</td>
<td></td>
<td>o</td>
<td>圆圈</td>
</tr>
<tr>
<td>:</td>
<td>点线</td>
<td></td>
<td>*</td>
<td>星号</td>
</tr>
<tr>
<td>-.</td>
<td>点划线</td>
<td></td>
<td>.</td>
<td>实心点</td>
</tr>
<tr>
<td><strong>标记</strong></td>
<td><strong>颜色</strong></td>
<td></td>
<td>x</td>
<td>叉</td>
</tr>
<tr>
<td>r</td>
<td>红</td>
<td></td>
<td>s</td>
<td>正方形</td>
</tr>
<tr>
<td>g</td>
<td>绿</td>
<td></td>
<td>d</td>
<td>钻石</td>
</tr>
<tr>
<td>b</td>
<td>蓝</td>
<td></td>
<td>^</td>
<td>上三角</td>
</tr>
<tr>
<td>c</td>
<td>蓝绿</td>
<td></td>
<td>v</td>
<td>下三角</td>
</tr>
<tr>
<td>m</td>
<td>紫红</td>
<td></td>
<td>&lt;</td>
<td>左三角</td>
</tr>
<tr>
<td>y</td>
<td>黄</td>
<td></td>
<td>&gt;</td>
<td>右三角</td>
</tr>
<tr>
<td>k</td>
<td>黑</td>
<td></td>
<td>p</td>
<td>正五角形</td>
</tr>
<tr>
<td>w</td>
<td>白</td>
<td></td>
<td>h</td>
<td>正六角形</td>
</tr>
</tbody>
</table>
<p>颜色除了预定义好的单个字母表示，还可以用color=’#00ff00’或者color=(1.0, 0.5, 0.04)表示。</p>
<p>一个简单示例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">from matplotlib.font_manager import FontProperties</span><br><span class="line"></span><br><span class="line"># https://www.jianshu.com/p/8ed59ac76c06 中文显示问题</span><br><span class="line">def getChineseFont():</span><br><span class="line">    return FontProperties(fname=&apos;/System/Library/Fonts/PingFang.ttc&apos;, size=15)</span><br><span class="line"></span><br><span class="line">plt.rcParams[&apos;axes.unicode_minus&apos;] = False  # 用来正常显示负号</span><br><span class="line"></span><br><span class="line">y = [1, 15, 3, 6, 23]</span><br><span class="line"></span><br><span class="line">plt.figure()</span><br><span class="line">plt.title(u&apos;绘制中文标题&apos;, fontproperties=getChineseFont())</span><br><span class="line">plt.ylabel(u&apos;Y轴label&apos;, fontproperties=getChineseFont())</span><br><span class="line">plt.ylim(0, 30)</span><br><span class="line">plt.yticks(range(0, 30, 5))</span><br><span class="line">plt.plot(range(0, 5), y, &quot;r:o&quot;, label=&quot;折线图label&quot;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>下图中红色的即是画出来的折线图效果</p>
<p><img src="./images/plt_plot_bar.png" alt="plt_plot_bar"></p>
<h3 id="柱状图"><a href="#柱状图" class="headerlink" title="柱状图"></a>柱状图</h3><p>只要将上个示例中的plot换成plt.scatter(range(0, 5), y, color=’m’, label=”散点图label”)即可画出柱状图，即上图中蓝绿色的柱子。</p>
<h3 id="条状图"><a href="#条状图" class="headerlink" title="条状图"></a>条状图</h3><p>plot换成plt.barh(range(0, 5), y, color=’y’, label=”条形图label”)</p>
<p><img src="./images/plt_barh.png" alt="plt_barh"></p>
<h3 id="散点图"><a href="#散点图" class="headerlink" title="散点图"></a>散点图</h3><p>plot换成plt.scatter(range(0, 5), y, color=’m’, label=”散点图label”)</p>
<p><img src="./images/plt_scatter.png" alt="plt_scatter"></p>
<h3 id="饼状图"><a href="#饼状图" class="headerlink" title="饼状图"></a>饼状图</h3><p><a href="https://liam0205.me/2014/09/11/matplotlib-tutorial-zh-cn/" target="_blank" rel="noopener">https://liam0205.me/2014/09/11/matplotlib-tutorial-zh-cn/</a></p>
<h3 id="等高线图"><a href="#等高线图" class="headerlink" title="等高线图"></a>等高线图</h3><h3 id="灰度图"><a href="#灰度图" class="headerlink" title="灰度图"></a>灰度图</h3><h3 id="量场图"><a href="#量场图" class="headerlink" title="量场图"></a>量场图</h3><h3 id="极轴图"><a href="#极轴图" class="headerlink" title="极轴图"></a>极轴图</h3><h3 id="动态图"><a href="#动态图" class="headerlink" title="动态图"></a>动态图</h3><h3 id="3D图"><a href="#3D图" class="headerlink" title="3D图"></a>3D图</h3><h2 id="一些有趣示例"><a href="#一些有趣示例" class="headerlink" title="一些有趣示例"></a>一些有趣示例</h2><h3 id="自定义坐标系画三角函数"><a href="#自定义坐标系画三角函数" class="headerlink" title="自定义坐标系画三角函数"></a>自定义坐标系画三角函数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line"># 在(−π,π)之间分成共256个点，</span><br><span class="line">X = np.linspace(-np.pi, np.pi, 256, endpoint=True)</span><br><span class="line">(C, S) = np.cos(X), np.sin(X)</span><br><span class="line"></span><br><span class="line">fig = plt.figure()</span><br><span class="line"></span><br><span class="line">plt.plot(X, C, &apos;b-&apos;, lw=2.5, label=&apos;cos&apos;)</span><br><span class="line">plt.plot(X, S, &apos;r-&apos;, lw=1.5, label=&apos;sin&apos;)</span><br><span class="line"></span><br><span class="line">plt.legend(loc=&apos;upper left&apos;)</span><br><span class="line"></span><br><span class="line">plt.ylim(C.min() * 1.2, C.max() * 1.2)</span><br><span class="line">plt.xlim(X.min() * 1.2, X.max() * 1.2)</span><br><span class="line"></span><br><span class="line"># plt.xticks([-np.pi, -np.pi / 2, 0, np.pi / 2, np.pi])</span><br><span class="line"># 使用LaTeX设置更易理解的标记，即数学符号π</span><br><span class="line">plt.xticks([-np.pi, -np.pi / 2, 0, np.pi / 2, np.pi],</span><br><span class="line">           [r&apos;$-\pi$&apos;, r&apos;$-\pi/2$&apos;, r&apos;$0$&apos;, r&apos;$\pi/2$&apos;, r&apos;$+\pi$&apos;])</span><br><span class="line">plt.yticks([-1, 0, 1])</span><br><span class="line"></span><br><span class="line">ax = plt.gca()</span><br><span class="line">ax.spines[&apos;right&apos;].set_color(&apos;none&apos;)  # 把右边和上边的边界设置为不可见</span><br><span class="line">ax.spines[&apos;top&apos;].set_color(&apos;none&apos;)</span><br><span class="line">ax.spines[&apos;bottom&apos;].set_position((&apos;data&apos;, 0))  # 把下边界和左边界移动到0点</span><br><span class="line">ax.spines[&apos;left&apos;].set_position((&apos;data&apos;, 0))</span><br><span class="line"></span><br><span class="line"># 给特殊点添加注释</span><br><span class="line">t = 2 * np.pi / 3</span><br><span class="line"></span><br><span class="line">plt.plot([t, t], [0, np.cos(t)], color=&apos;blue&apos;, linewidth=1.0, linestyle=&quot;--&quot;)</span><br><span class="line">plt.scatter([t, ], [np.cos(t), ], 50, color=&apos;blue&apos;)  # 画出需要标注的点</span><br><span class="line">plt.annotate(r&apos;$\cos(\frac&#123;2\pi&#125;&#123;3&#125;)=-\frac&#123;1&#125;&#123;2&#125;$&apos;,</span><br><span class="line">             xy=(t, np.cos(t)), xycoords=&apos;data&apos;,</span><br><span class="line">             xytext=(-90, -50), textcoords=&apos;offset points&apos;, fontsize=16,</span><br><span class="line">             arrowprops=dict(arrowstyle=&quot;-&gt;&quot;, connectionstyle=&quot;arc3,rad=.2&quot;))</span><br><span class="line"></span><br><span class="line">plt.plot([t, t], [0, np.sin(t)], color=&apos;red&apos;, linewidth=1.0, linestyle=&quot;--&quot;)</span><br><span class="line">plt.scatter([t, ], [np.sin(t), ], 50, color=&apos;red&apos;)</span><br><span class="line">plt.annotate(r&apos;$\sin(\frac&#123;2\pi&#125;&#123;3&#125;)=\frac&#123;\sqrt&#123;3&#125;&#125;&#123;2&#125;$&apos;,</span><br><span class="line">             xy=(t, np.sin(t)), xycoords=&apos;data&apos;,</span><br><span class="line">             xytext=(+10, +30), textcoords=&apos;offset points&apos;, fontsize=16,</span><br><span class="line">             arrowprops=dict(arrowstyle=&quot;-&gt;&quot;, connectionstyle=&quot;arc3,rad=.2&quot;))</span><br><span class="line"></span><br><span class="line"># for label in ax.get_xticklabels() + ax.get_yticklabels():</span><br><span class="line">#     label.set_fontsize(16)</span><br><span class="line">#     label.set_bbox(dict(facecolor=&apos;w&apos;, edgecolor=&apos;None&apos;, alpha=0.4))</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="./images/plt_sin_cos.png" alt="plt_sin_cos"></p>
<h3 id="numpy里画的正态分布图"><a href="#numpy里画的正态分布图" class="headerlink" title="numpy里画的正态分布图"></a>numpy里画的正态分布图</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># Build a vector of 10000 normal deviates with variance 0.5^2 and mean 2</span><br><span class="line">mu, sigma = 2, 0.5</span><br><span class="line">v = np.random.normal(mu, sigma, 5000)</span><br><span class="line"># Plot a normalized histogram with 50 bins</span><br><span class="line">plt.hist(v, bins=50, normed=1)  # matplotlib version (plot)</span><br><span class="line"></span><br><span class="line"># Compute the histogram with numpy and then plot it</span><br><span class="line">(n, bins) = np.histogram(v, bins=50, normed=True)  # NumPy version (no plot)</span><br><span class="line">plt.plot(.5 * (bins[1:] + bins[:-1]), n)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"># 简化版 http://blog.csdn.net/lanchunhui/article/details/50163669</span><br><span class="line">loc = 10.0</span><br><span class="line">scale = 1.0</span><br><span class="line">data = np.random.normal(loc, scale, size=6000)</span><br><span class="line">x_data = np.linspace(data.min(), data.max())</span><br><span class="line">plt.plot(x_data, 1. / (np.sqrt(2 * np.pi) * scale) * np.exp(-(x_data - loc) ** 2 / (2 * scale ** 2)))</span><br><span class="line">count, bins, _ = plt.hist(data, 30, normed=True)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="./images/plt_hist.png" alt="plt_hist"></p>
<p>除此之外，还可以画子图，还有大量api可供使用，画出更绚丽的图片来，可看参考里的官方文档尝试。</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://matplotlib.org/" target="_blank" rel="noopener">https://matplotlib.org/</a></p>
<p><a href="https://matplotlib.org/gallery.html" target="_blank" rel="noopener">https://matplotlib.org/gallery.html</a></p>
<p><a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html" target="_blank" rel="noopener">https://docs.scipy.org/doc/numpy-dev/user/quickstart.html</a></p>
<p><a href="https://www.jianshu.com/p/7fbecf5255f0" target="_blank" rel="noopener">https://www.jianshu.com/p/7fbecf5255f0</a></p>
<p><a href="https://liam0205.me/2014/09/11/matplotlib-tutorial-zh-cn/" target="_blank" rel="noopener">https://liam0205.me/2014/09/11/matplotlib-tutorial-zh-cn/</a></p>
<p><a href="http://conanwhf.github.io/2018/02/12/DrawByMatplotlib/" target="_blank" rel="noopener">http://conanwhf.github.io/2018/02/12/DrawByMatplotlib/</a></p>


      

    </section>
    
    
</article>

</div>

            <footer>
    <div>© 2016 - qianhk </div>
    <div>
    Powered by Hexo
    </div>
</footer>

        </div>
    </div>
</div>
<script src="/js/pager/dist/singlepager.js"></script>
<script>
var sp = new Pager('data-pager-shell')

</script>
</body>
</html>